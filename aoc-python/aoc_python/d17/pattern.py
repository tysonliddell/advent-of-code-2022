# flake8: noqa
# fmt: off

# Companion script to manually solve Day 17, Part 2. Running the simulation for the
# specified 1000000000000 days is out of the question. However, the jet pattern is cyclical.
# So looking through the changes in height over many runs, we expect to find a pattern. This
# pattern was found in the text editor, but dumping all of the changes in height between rock
# falls, after was have 10000 of them. See file `2022-12-17-aoc-pattern-search.png` for the
# discovery of the pattern. The terminal highlighting made discovery very easy.


# Testing the approach on the example provided
# pre = [1, 3, 2, 1, 2, 1, 3, 2, 2, 0, 1, 3, 2, 0, 2]
# main = [1, 3, 3, 4, 0, 1, 2, 3, 0, 1, 1, 3, 2, 2, 0, 0, 2, 3, 4, 0, 1, 2, 1, 2, 0, 1, 2, 1, 2, 0, 1, 3, 2, 0, 0, 1, 3, 3, 4, 0, 1, 2, 3, 0, 1, 1, 3, 2, 2, 0, 0, 2, 3, 4, 0, 1, 2, 1, 2, 0, 1, 2, 1, 2, 0, 1, 3, 2, 0, 0]
# num_main = (1000000000000 - len(pre)) // len(main)
# end_length = (1000000000000 - len(pre)) % len(main)
# end = main[:end_length]
# result = sum(pre) + (num_main*sum(main)) + sum(end)
# print(result)


# The real deal has a much larger pattern length because the jet pattern is a lot larger.
def solve_part_2():
    pre = [1, 2, 1, 4, 0, 0, 0, 3, 2, 0, 1, 2, 1, 2, 0, 1, 3, 3, 0, 0, 1, 3, 2, 0, 2, 1, 3, 2, 0, 0, 1, 3, 0, 0, 1, 1, 3, 2, 1, 2, 1, 1, 2, 1, 2, 1, 2, 2, 2, 0, 1, 3, 2, 4, 0, 0, 0, 3, 0, 0, 0, 3, 2, 2, 0, 1, 3, 3, 2, 0, 1, 3, 3, 2, 2, 1, 3, 0, 4, 2, 1, 3, 3, 2, 0, 1, 3, 2, 0, 0, 1, 3, 3, 2, 0, 1, 2, 1, 0, 1, 0, 3, 2, 2, 0, 1, 3, 3, 0, 2, 1, 3, 2, 4, 0, 1, 2, 2, 1, 1, 1, 3, 3, 2, 2, 1, 3, 3, 0, 0, 1, 2, 3, 0, 0, 1, 3, 3, 0, 0, 1, 3, 3, 2, 2, 1, 2, 3, 2, 0, 0, 3, 2, 2, 0, 1, 3, 2, 4, 0, 1, 3, 0, 4, 0, 1, 3, 3, 2, 2, 1, 3, 0, 3, 0, 0, 3, 3, 4, 0, 1, 3, 3, 2, 2, 1, 3, 3, 0, 2, 0, 2, 3, 2, 0, 1, 2, 2, 2, 2, 1, 0, 3, 2, 2, 1, 1, 2, 1, 1, 1, 3, 2, 4, 0, 1, 3, 0, 3, 0, 0, 3, 3, 2, 0, 1, 3, 0, 0, 2, 1, 3, 3, 2, 0, 1, 3, 3, 0, 0, 1, 3, 0, 2, 2, 1, 3, 3, 0, 2, 1, 3, 0, 3, 0, 0, 3, 3, 2, 0, 1, 3, 0, 3, 2, 1, 3, 3, 2, 0, 1, 1, 3, 2, 0, 1, 2, 1, 3, 0, 1, 3, 3, 2, 2, 1, 3, 2, 1, 1, 1, 3, 2, 2, 0, 0, 1, 2, 2, 0, 1, 1, 2, 4, 0, 1, 2, 2, 2, 2, 1, 2, 2, 4, 0, 1, 3, 2, 0, 1, 0, 3, 3, 2, 0, 1, 2, 3, 2, 0, 0, 2, 3, 0, 2, 1, 3, 3, 4, 0, 0, 2, 0,]
    main = [0, 2, 1, 0, 3, 4, 0, 0, 0, 3, 2, 0, 0, 2, 2, 1, 1, 0, 3, 3, 2, 0, 1, 3, 3, 0, 0, 0, 2, 2, 2, 2, 0, 0, 1, 2, 0, 0, 3, 2, 4, 0, 1, 3, 3, 0, 2, 1, 3, 3, 2, 0, 1, 2, 2, 2, 2, 1, 2, 1, 2, 0, 1, 3, 2, 0, 2, 1, 3, 3, 0, 0, 1, 2, 2, 2, 0, 1, 2, 2, 2, 2, 1, 2, 1, 2, 2, 1, 3, 3, 0, 2, 1, 3, 3, 2, 2, 1, 2, 1, 4, 2, 1, 2, 3, 0, 2, 1, 3, 3, 4, 0, 0, 2, 2, 4, 2, 0, 2, 2, 2, 0, 1, 3, 3, 2, 2, 1, 3, 0, 0, 0, 1, 3, 2, 2, 2, 0, 0, 2, 2, 2, 1, 3, 3, 2, 2, 1, 3, 3, 2, 0, 1, 2, 2, 4, 0, 1, 3, 0, 1, 1, 0, 3, 2, 2, 0, 1, 3, 2, 1, 1, 1, 3, 2, 2, 0, 1, 3, 0, 2, 0, 1, 2, 2, 4, 0, 1, 3, 0, 3, 0, 1, 3, 2, 4, 0, 1, 3, 3, 4, 0, 1, 3, 2, 2, 2, 1, 3, 3, 0, 0, 1, 3, 3, 4, 0, 0, 0, 3, 2, 0, 0, 1, 3, 2, 0, 1, 3, 2, 4, 0, 1, 3, 3, 2, 0, 1, 3, 3, 0, 0, 1, 3, 3, 0, 0, 1, 3, 3, 2, 2, 1, 3, 3, 0, 0, 1, 2, 2, 2, 0, 1, 2, 3, 0, 2, 1, 3, 0, 4, 0, 1, 2, 3, 2, 0, 1, 3, 2, 2, 0, 1, 2, 3, 0, 2, 1, 3, 2, 1, 2, 1, 3, 2, 1, 1, 1, 3, 2, 0, 0, 0, 2, 1, 2, 0, 1, 3, 3, 4, 0, 1, 3, 0, 0, 2, 1, 3, 2, 0, 0, 0, 2, 1, 2, 0, 1, 3, 0, 4, 0, 1, 3, 3, 0, 0, 1, 3, 3, 0, 0, 1, 1, 2, 4, 0, 1, 2, 2, 2, 0, 1, 2, 1, 3, 0, 0, 1, 2, 2, 2, 1, 3, 3, 2, 2, 1, 2, 1, 4, 2, 1, 3, 3, 4, 0, 1, 3, 2, 2, 2, 1, 2, 3, 2, 0, 1, 3, 3, 0, 2, 1, 2, 2, 1, 0, 0, 3, 2, 4, 2, 1, 2, 3, 2, 0, 1, 2, 1, 4, 0, 0, 1, 2, 4, 0, 1, 3, 3, 2, 2, 1, 3, 2, 2, 0, 1, 2, 1, 3, 0, 0, 3, 0, 3, 0, 0, 0, 3, 4, 0, 0, 0, 3, 2, 0, 0, 2, 3, 4, 0, 1, 3, 0, 2, 0, 1, 3, 2, 4, 2, 1, 3, 2, 0, 2, 1, 0, 3, 2, 2, 1, 3, 3, 4, 0, 1, 3, 3, 0, 0, 1, 2, 3, 0, 1, 1, 3, 0, 2, 2, 1, 3, 2, 2, 0, 1, 3, 3, 0, 0, 1, 2, 3, 0, 0, 0, 3, 3, 2, 2, 1, 3, 3, 0, 0, 1, 3, 3, 4, 0, 0, 2, 3, 2, 0, 1, 3, 3, 2, 2, 1, 3, 2, 0, 0, 0, 3, 0, 3, 0, 1, 3, 2, 2, 0, 1, 3, 3, 0, 0, 1, 3, 3, 4, 0, 1, 3, 3, 2, 2, 1, 3, 3, 0, 2, 1, 3, 3, 4, 0, 1, 2, 2, 2, 2, 1, 2, 3, 4, 2, 1, 3, 3, 0, 0, 1, 2, 3, 2, 2, 1, 3, 3, 2, 0, 1, 3, 0, 4, 2, 1, 3, 2, 2, 0, 1, 3, 3, 4, 0, 1, 3, 3, 2, 2, 1, 3, 2, 4, 0, 1, 3, 2, 2, 0, 1, 3, 0, 3, 0, 0, 3, 2, 2, 0, 1, 2, 2, 0, 0, 1, 3, 3, 0, 0, 1, 0, 3, 2, 0, 1, 3, 3, 0, 2, 1, 3, 0, 1, 1, 1, 0, 3, 2, 2, 1, 3, 2, 1, 0, 1, 2, 3, 2, 0, 1, 3, 2, 4, 0, 0, 0, 3, 0, 2, 0, 2, 2, 2, 0, 1, 0, 3, 1, 1, 0, 3, 2, 4, 0, 1, 3, 3, 2, 0, 1, 2, 2, 1, 1, 1, 3, 2, 0, 0, 1, 2, 3, 0, 0, 1, 2, 2, 0, 2, 1, 3, 2, 0, 0, 1, 2, 3, 2, 2, 1, 3, 3, 4, 0, 1, 3, 2, 2, 0, 1, 3, 2, 0, 0, 0, 2, 3, 0, 0, 1, 3, 2, 0, 0, 1, 3, 3, 0, 0, 1, 2, 3, 0, 1, 1, 3, 2, 2, 0, 1, 3, 0, 2, 0, 1, 3, 3, 2, 2, 1, 2, 1, 2, 2, 0, 0, 3, 1, 0, 0, 3, 0, 0, 0, 1, 3, 3, 2, 0, 1, 2, 3, 0, 2, 0, 3, 0, 2, 0, 1, 3, 3, 2, 0, 1, 3, 3, 4, 2, 0, 3, 2, 0, 0, 1, 3, 2, 4, 0, 1, 3, 0, 3, 0, 1, 3, 0, 0, 0, 1, 3, 3, 0, 2, 1, 3, 2, 4, 0, 0, 0, 3, 4, 0, 1, 3, 3, 0, 0, 1, 3, 0, 2, 0, 1, 3, 2, 2, 2, 1, 3, 3, 2, 2, 1, 3, 2, 0, 2, 1, 3, 2, 4, 2, 1, 2, 2, 0, 2, 1, 3, 3, 0, 2, 1, 2, 2, 2, 0, 0, 2, 1, 3, 2, 1, 1, 2, 2, 0, 1, 3, 0, 2, 0, 1, 3, 0, 4, 0, 1, 3, 3, 4, 0, 1, 3, 2, 2, 0, 1, 2, 1, 4, 0, 1, 3, 2, 2, 0, 1, 3, 3, 0, 0, 1, 2, 2, 2, 0, 1, 3, 3, 0, 2, 1, 3, 2, 2, 0, 0, 1, 3, 4, 2, 1, 3, 2, 2, 0, 1, 2, 1, 3, 2, 0, 0, 3, 2, 0, 1, 3, 0, 3, 2, 1, 2, 2, 2, 2, 0, 0, 3, 2, 2, 1, 3, 3, 2, 0, 1, 2, 3, 0, 2, 1, 3, 3, 4, 0, 0, 3, 3, 2, 0, 1, 1, 2, 4, 0, 1, 3, 3, 0, 0, 1, 3, 2, 2, 0, 0, 2, 3, 2, 0, 1, 3, 3, 0, 0, 0, 2, 2, 0, 0, 1, 3, 3, 4, 0, 1, 3, 3, 2, 0, 1, 3, 3, 2, 2, 1, 1, 3, 0, 0, 1, 2, 1, 0, 1, 1, 3, 3, 2, 2, 1, 2, 3, 2, 0, 1, 2, 1, 0, 0, 1, 3, 2, 0, 0, 1, 3, 3, 2, 2, 1, 1, 2, 1, 0, 0, 3, 3, 0, 2, 1, 3, 3, 4, 0, 1, 2, 1, 3, 2, 1, 3, 3, 2, 0, 1, 2, 1, 2, 0, 1, 2, 3, 2, 0, 0, 3, 0, 3, 2, 1, 2, 3, 0, 1, 1, 3, 3, 0, 0, 1, 3, 3, 0, 2, 1, 3, 3, 0, 0, 1, 3, 3, 2, 0, 1, 3, 3, 2, 0, 1, 3, 0, 2, 0, 1, 2, 3, 0, 1, 1, 3, 3, 2, 0, 1, 2, 3, 0, 0, 1, 3, 3, 2, 0, 1, 3, 2, 4, 2, 1, 3, 3, 2, 0, 1, 3, 2, 0, 0, 1, 3, 2, 2, 2, 1, 3, 2, 1, 1, 1, 3, 2, 4, 2, 1, 3, 3, 2, 0, 1, 2, 1, 2, 0, 0, 3, 3, 0, 0, 0, 2, 2, 1, 0, 0, 3, 2, 2, 0, 1, 3, 0, 2, 0, 1, 2, 1, 1, 2, 1, 3, 2, 0, 0, 1, 2, 3, 2, 2, 1, 1, 3, 0, 0, 1, 3, 3, 0, 0, 1, 2, 1, 2, 2, 1, 3, 3, 0, 2, 1, 3, 3, 2, 0, 1, 3, 2, 2, 2, 0, 3, 2, 4, 0, 1, 3, 3, 0, 0, 1, 1, 2, 2, 2, 1, 3, 0, 4, 2, 1, 2, 2, 2, 2, 1, 3, 2, 2, 2, 1, 2, 3, 0, 0, 0, 2, 1, 2, 0, 1, 3, 3, 2, 0, 1, 3, 3, 4, 0, 0, 0, 3, 0, 2, 1, 2, 3, 0, 1, 1, 3, 3, 0, 0, 1, 3, 3, 0, 0, 1, 3, 3, 2, 2, 1, 3, 2, 0, 0, 1, 2, 3, 2, 0, 0, 2, 3, 2, 0, 1, 1, 2, 2, 2, 1, 3, 3, 0, 0, 1, 3, 3, 0, 0, 0, 1, 2, 2, 0, 1, 3, 3, 0, 2, 1, 3, 3, 0, 0, 1, 3, 2, 0, 1, 1, 2, 1, 2, 0, 1, 3, 3, 0, 2, 1, 3, 0, 3, 0, 0, 2, 2, 2, 2, 1, 3, 2, 2, 0, 0, 3, 3, 0, 2, 0, 3, 0, 0, 0, 1, 3, 3, 0, 0, 1, 3, 0, 3, 2, 1, 1, 2, 2, 2, 1, 3, 0, 4, 2, 1, 3, 3, 0, 0, 1, 2, 1, 2, 0, 1, 2, 1, 2, 0, 0, 3, 2, 1, 0, 1, 3, 3, 2, 0, 1, 3, 3, 0, 2, 1, 3, 0, 3, 0, 0, 3, 3, 4, 0, 1, 3, 2, 4, 2, 1, 3, 3, 4, 0, 1, 3, 2, 2, 2, 1, 3, 2, 1, 1, 1, 2, 1, 0, 0, 1, 2, 1, 3, 0, 1, 3, 2, 0, 0, 1, 3, 2, 0, 2, 0, 0, 3, 1, 2, 0, 3, 0, 0, 0, 1, 0, 3, 1, 0, 0, 3, 0, 2, 0, 1, 3, 0, 2, 2, 1, 3, 3, 0, 2, 0, 2, 3, 2, 0, 1, 2, 2, 2, 2, 1, 0, 3, 2, 2, 1, 1, 2, 1, 1, 1, 3, 2, 4, 0, 1, 3, 0, 3, 0, 0, 3, 3, 2, 0, 1, 3, 0, 0, 2, 1, 3, 3, 2, 0, 1, 3, 3, 0, 0, 1, 3, 0, 2, 2, 1, 3, 3, 0, 2, 1, 3, 0, 3, 0, 0, 3, 3, 2, 0, 1, 3, 0, 3, 2, 1, 3, 3, 2, 0, 1, 1, 3, 2, 0, 1, 2, 1, 3, 0, 1, 3, 3, 2, 2, 1, 3, 2, 1, 1, 1, 3, 2, 2, 0, 0, 1, 2, 2, 0, 1, 1, 2, 4, 0, 1, 2, 2, 2, 2, 1, 2, 2, 4, 0, 1, 3, 2, 0, 1, 0, 3, 3, 2, 0, 1, 2, 3, 2, 0, 0, 2, 3, 0, 2, 1, 3, 3, 4, 0, 0, 2, 0,]
    num_main = (1000000000000 - len(pre)) // len(main)
    end_length = (1000000000000 - len(pre)) % len(main)
    end = main[:end_length]
    result = sum(pre) + (num_main * sum(main)) + sum(end)
    return result
